<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite">

    <h:head>
        <title><ui:insert name="title">Título</ui:insert></title>
        <!--<h:outputScript name="jquery-1.8.3.min.js"/>-->
        <h:outputStylesheet library="css" name="jsfcrud.css"/>
        <h:outputScript library="js" name="jsfcrud.js"/>
        <h:outputStylesheet name="css/stateless.css"/>
        <h:outputStylesheet name="css/bootstrap.min.css"/>

        <h:outputStylesheet name="css/bootstrap.css" />
        <!--<h:outputStylesheet name="css/zabuto_calendar.css" />-->
        <h:outputStylesheet name="jquery.gritter.css" />
        <h:outputStylesheet name="style_lineicons.css" />    

        <h:outputStylesheet name="css/style_tema.css" />
        <h:outputStylesheet name="css/style-responsive.css" />
        <h:outputStylesheet name="css/font-awesome.min.css" />

        <h:outputScript name="Chart.js"></h:outputScript>
        <style>
            .logout{
                border: 1px solid #1b65bd !important;
                margin-top: 15px!important;
                margin-right: 15px;
                padding: 5px 15px;
                background: #1b65bd;
                border-radius: 4px;
                -webkit-border-radius: 4px;
                color: white;
            }
            * {
                font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif;
            }
            #sidebar {
                background: #11417a;
                border-right: 1px solid #aeb2b7;
            }
            #sidebar a {
                font-size: 14px;
            }
            #sidebar a i {
                font-size: 12px;
            }
            #sidebar a.active {
                color: #555555;
                background: #11417a;
            }
            #sidebar a.active i {
                color: #555;
                background: #11417a;
            }
            #sidebar a:hover i {
                color: #555555;
                background: #11417a;
            }
            #sidebar a i {
                color: #aeb2b7;
                background: #11417a;
            }
            #sidebar a:hover {
                color: #555555;
                background: #11417a;
            }
            #sidebar li{
                background: #11417a;
            }
        </style>
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"/>
    </h:head>

    <h:body>

        <p:growl id="growl" life="3000" />

        <header class="header black-bg" style="background-color: #1b65bd; border-color: #1b65bd;">
            <div class="sidebar-toggle-box">
                <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
            </div>
            <!--logo start-->
            <h:form>
                <h:outputLink value="/stateless-web/index.xhtml" class="logo" style="font-size: 20px; font-weight: 300;">MI 2.0</h:outputLink>
            </h:form>
            <!--logo end-->

            <div class="top-menu">
                <ul class="nav pull-right top-menu">
                    <li>
                        <ul class="nav pull-right top-menu" style="padding-top: 15px;">
                            <h:form>
                                <h:commandLink action="#{loginController.logout}" value="Cerrar Sesi&oacute;n" class="logout" />
                            </h:form>
                        </ul>
                    </li>
                </ul>
                <ul class="nav pull-right top-menu">
                    <li>
                        <ul class="nav pull-right top-menu" style="padding-top: 15px;">
                            <h:outputLink value="/stateless-web/ldap/login.xhtml" class="logout">
                                <span>Login</span>
                            </h:outputLink>
                        </ul>
                    </li>
                </ul>
            </div>
        </header>

        <aside>
            <div id="sidebar"  class="nav-collapse ">
                <!-- sidebar menu start-->
                <ul class="sidebar-menu" id="nav-accordion">

                    <!--<p class="centered"><a href="profile.html"><img src="assets/img/ui-sam.jpg" class="img-circle" width="60"></a></p>-->
                    <h5 class="centered" style="color: #ddd;">Hola #{loginController.nombreMostrado}!</h5>

                    <c:if test="${loginController.esAdmin()}">
                        <li class="sub-menu">
                            <h:outputLink value="/stateless-web/usuario/List.xhtml">
                                <i class="fa fa-users"></i>
                                <span>Administrar Usuarios</span>
                            </h:outputLink>
                        </li>
                    </c:if>
                    <c:if test="${loginController.esAdmin()}">
                        <li class="sub-menu">
                            <h:outputLink value="/stateless-web/plan/List.xhtml">
                                <i class="fa fa-dashboard"></i>
                                <span>Administrar Planes</span>
                            </h:outputLink>
                        </li>
                    </c:if>
                     <c:if test="${loginController.esAdmin()}">
                        <li class="sub-menu">
                            <h:outputLink value="/stateless-web/SystemLog/List.xhtml">
                                <i class="fa fa-dashboard"></i>
                                <span>Ver Log de Auditoría</span>
                            </h:outputLink>
                        </li>
                    </c:if>
<!--                     <c:if test="${loginController.esAdmin()}">
                        <li class="sub-menu">
                            <h:outputLink value="/stateless-web/convalidaciones/index.xhtml">
                                <i class="fa fa-dashboard"></i>
                                <span>Convalidaciones</span>
                            </h:outputLink>
                        </li>
                    </c:if>-->
                     <c:if test="${loginController.esAdmin()}">
                        <li class="sub-menu">
                            <h:outputLink value="/stateless-web/carrera/List.xhtml">
                                <i class="fa fa-dashboard"></i>
                                <span>Perfiles de las Carreras</span>
                            </h:outputLink>
                        </li>
                    </c:if>
                    <li class="sub-menu">
                        <a href="javascript:;" >
                            <i class="fa fa-desktop"></i>
                            <span>Mallas</span>
                        </a>
                        <ul class="sub">
                            <c:forEach id="mallasMenu" var="mallas" items="#{planController.itemsByVisible}">
                                <li>
                                    <h:link outcome="/malla/malla" value="#{mallas.nombrePlan}">
                                        <f:param name="planId" value="#{mallas.idPlan}"></f:param>
                                    </h:link>
                                </li>
                            </c:forEach>
                        </ul>
                    </li>
                </ul>
                <!-- sidebar menu end-->
            </div>
        </aside>
        
        <section id="main-content">
            <section class="wrapper">

                <div class="row">
                    <ui:insert name="body"/>
                </div><!--/row -->
            </section>
        </section>

        <!--        <ui:insert name="body"/>-->
        <ui:insert name="footer"/>
        <!-- js placed at the end of the document so the pages load faster -->
        <h:outputScript library="js" name="jquery.dcjqaccordion.2.7.js" />
        <h:outputScript library="js" name="jquery.scrollTo.min.js" />
        <h:outputScript library="js" name="jquery.nicescroll.js" />
        <h:outputScript library="js" name="jquery.sparkline.js" />


        <!--common script for all pages-->
        <h:outputScript library="js" name="common-scripts.js" />

        <h:outputScript name="jquery.gritter.js" />
        <h:outputScript name="js/gritter-conf.js" />

        <!--script for this page-->
        <h:outputScript library="js" name="sparkline-chart.js" />
        <h:outputScript library="js" name="zabuto_calendar.js" />

        <script type="text/javascript">
            $(document).ready(function () {
//                var unique_id = $.gritter.add({
//                    // (string | mandatory) the heading of the notification
//                    title: 'Welcome to Dashgum!',
//                    // (string | mandatory) the text inside the notification
//                    text: 'Hover me to enable the Close Button. You can hide the left sidebar clicking on the button next to the logo. Free version for <a href="http://blacktie.co" target="_blank" style="color:#ffd777">BlackTie.co</a>.',
//                    // (string | optional) the image to display on the left
//                    image: 'resources/images/ui-sam.jpg',
//                    // (bool | optional) if you want it to fade out on its own or just sit there
//                    sticky: true,
//                    // (int | optional) the time you want it to be alive for before fading out
//                    time: '',
//                    // (string | optional) the class name you want to apply to that specific message
//                    class_name: 'my-sticky-class'
//                });

                return false;
            });
        </script>

        <script type="application/javascript">
            //            $(document).ready(function() {
            //            $("#date-popover").popover({
            //            html: true,
            //            trigger: "manual"
            //            });
            //            $("#date-popover").hide();
            //            $("#date-popover").click(function(e) {
            //            $(this).hide();
            //            });
            //            });


            function myNavFunction(id) {
            $("#date-popover").hide();
            var nav = $("#" + id).data("navigation");
            var to = $("#" + id).data("to");
            console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
            }
        </script>
    </h:body>

</html>

